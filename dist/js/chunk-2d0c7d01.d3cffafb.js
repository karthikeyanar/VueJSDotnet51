(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7d01"],{"51e4":function(t,e,l){"use strict";l.r(e);var o=l("7a23");const a={class:"row"},c={class:"col-8"},n={class:"float-start me-3",style:{width:"auto"}},r={class:"float-start me-3",style:{width:"120px"}},i=Object(o["f"])("div",{class:"float-start me-3 mt-2",style:{width:"auto"}}," To ",-1),s={class:"float-start me-3",style:{width:"120px"}},b={class:"float-start me-3",style:{width:"250px"}},O={class:"float-start mt-2",style:{width:"auto"}},d={class:"float-start mt-2",style:{width:"auto","margin-top":"4px","margin-left":"10px"}},u=Object(o["g"])('<option value="">Trade Type</option><option value="B">Buy</option><option value="S">Sell</option><option value="P">Price</option><option value="D">Dividend</option>',5),j=[u],f=Object(o["f"])("div",{class:"clearfix"}," ",-1),h=Object(o["f"])("br",null,null,-1),m={class:"float-start mt-2",style:{width:"auto",display:"none"}},p={class:"float-start mt-2",style:{width:"auto","margin-left":"25px"}},g={class:"float-start mt-2",style:{width:"auto","margin-left":"25px"}},y=Object(o["f"])("div",{class:"clearfix"}," ",-1),C=Object(o["f"])("br",null,null,-1),S={class:"col-4"},v={key:0,class:"row"},x={key:0,class:"table table-striped table-hover"},P=Object(o["f"])("thead",null,[Object(o["f"])("tr",null,[Object(o["f"])("th",null,"Symbol"),Object(o["f"])("th",{style:{"text-align":"right"}},"Total"),Object(o["f"])("th",{style:{"text-align":"right"}},"Price"),Object(o["f"])("th",{style:{"text-align":"right"}},"Require Shares"),Object(o["f"])("th",{style:{"text-align":"right"}},"Current Shares"),Object(o["f"])("th",{style:{"text-align":"right"}},"Balance Shares"),Object(o["f"])("th",{style:{"text-align":"right"}},"Percentage"),Object(o["f"])("th",{style:{"text-align":"right"}},"Balance Amount")])],-1),w={style:{"text-align":"right"}},k={style:{"text-align":"right"}},A={style:{"text-align":"right"}},L={style:{"text-align":"right"}},N={style:{"text-align":"right"}},T={style:{"text-align":"right"}},U={style:{"text-align":"right"}},z={key:1,class:"row"},D={class:"col-12"},R={class:"table table-sm table-borderless"},I={style:{"white-space":"nowrap"}},J={style:{"white-space":"nowrap"}},E={style:{"white-space":"nowrap"}},V={style:{"white-space":"nowrap"}},_={key:2},B={class:"nav nav-pills"},G={class:"nav-item"},M={class:"nav-item"},F=Object(o["f"])("br",null,null,-1),H={key:0,style:{"margin-bottom":"10px"}},X={class:"table"},q=Object(o["f"])("div",{style:{float:"left","margin-right":"5px","margin-top":"5px"}},"Sort By:",-1),$={style:{float:"left","margin-right":"10px"}},K=Object(o["g"])('<option value="PL">Profit &amp; Loss</option><option value="PLPercent">Profit &amp; Loss %</option><option value="XIRR">XIRR</option><option value="NumberOfShares">Shares</option><option value="SharePrice">Avg.Price</option><option value="CurrentPrice">Current Price</option><option value="Amount">Amount</option><option value="CurrentMarketValue">CMV</option>',8),Q=[K],W=Object(o["f"])("div",{style:{float:"left","margin-right":"5px","margin-top":"5px"}},"Sort Order:",-1),Y={style:{float:"left"}},Z=Object(o["f"])("option",{value:"asc"},"Asc",-1),tt=Object(o["f"])("option",{value:"desc"},"desc",-1),et=[Z,tt],lt=Object(o["f"])("div",{class:"clearfix"},null,-1),ot={key:1,class:"table table-striped table-hover"},at=Object(o["f"])("thead",null,[Object(o["f"])("tr",null,[Object(o["f"])("th",null,"Symbol"),Object(o["f"])("th",{style:{"text-align":"right"}},"PL"),Object(o["f"])("th",{style:{"text-align":"right"}},"Shares"),Object(o["f"])("th",{style:{"text-align":"right"}},"LTCG Shares"),Object(o["f"])("th",{style:{"text-align":"right"}},"Avg.Price"),Object(o["f"])("th",{style:{"text-align":"right"}},"Current Price"),Object(o["f"])("th",{style:{"text-align":"right"}},"Amount"),Object(o["f"])("th",{style:{"text-align":"right"}},"CMV")])],-1),ct={key:0},nt={style:{"text-align":"right"}},rt={style:{"text-align":"right"}},it={style:{"text-align":"right"}},st={style:{"text-align":"right"}},bt={style:{"text-align":"right"}},Ot={style:{"text-align":"right"}},dt={style:{"text-align":"right"}},ut={key:2,class:"table table-striped table-hover"},jt=Object(o["f"])("thead",null,[Object(o["f"])("tr",null,[Object(o["f"])("th",null,"Symbol"),Object(o["f"])("th",null,"Date"),Object(o["f"])("th",{style:{"text-align":"right"}},"Shares"),Object(o["f"])("th",{style:{"text-align":"right"}},"Price"),Object(o["f"])("th",null,"Type"),Object(o["f"])("th",null," ")])],-1),ft={key:0},ht=["onClick"],mt=["onClick"],pt=["onClick"],gt=["onClick"],yt=["onClick"],Ct={key:0},St={key:1},vt={key:2},xt={key:3},Pt=["onClick"],wt={key:1},kt={style:{"text-align":"right"}},At=["onUpdate:modelValue"],Lt={style:{"text-align":"right"}},Nt=["onUpdate:modelValue"],Tt=["onUpdate:modelValue"],Ut=Object(o["f"])("option",{value:"P"},"Price",-1),zt=Object(o["f"])("option",{value:"D"},"Dividend",-1),Dt=[Ut,zt],Rt=["disabled","onClick"],It=["onClick"];function Jt(t,e,l,u,K,Z){const tt=Object(o["A"])("datepicker"),Ut=Object(o["A"])("select2"),zt=Object(o["A"])("pagination");return Object(o["t"])(),Object(o["e"])("div",null,[Object(o["f"])("div",a,[Object(o["f"])("div",c,[Object(o["f"])("div",n,[Object(o["f"])("button",{type:"button",class:"btn btn-success",onClick:e[0]||(e[0]=e=>t.addNew())},"Add")]),Object(o["f"])("div",r,[Object(o["i"])(tt,{placeholder:"FromDate",field:"fromDate",root:t.search},null,8,["root"])]),i,Object(o["f"])("div",s,[Object(o["i"])(tt,{placeholder:"ToDate",field:"toDate",root:t.search},null,8,["root"])]),Object(o["f"])("div",b,[Object(o["i"])(Ut,{placeholder:"Search",source:t.searchSymbol,change:t.load,root:t.search,field:"symbol"},null,8,["source","change","root"])]),Object(o["f"])("div",O,[Object(o["J"])(Object(o["f"])("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=e=>t.search.isIgnore=e),onChange:e[2]||(e[2]=(...e)=>t.load&&t.load(...e))},null,544),[[o["E"],t.search.isIgnore]]),Object(o["h"])(" Except ")]),Object(o["f"])("div",d,[Object(o["J"])(Object(o["f"])("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[3]||(e[3]=e=>t.search.tradeType=e),onChange:e[4]||(e[4]=(...e)=>t.load&&t.load(...e))},j,544),[[o["F"],t.search.tradeType]])]),f,h,Object(o["f"])("div",m,[Object(o["J"])(Object(o["f"])("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=e=>t.search.isOptions=e),onChange:e[6]||(e[6]=(...e)=>t.load&&t.load(...e))},null,544),[[o["E"],t.search.isOptions]]),Object(o["h"])(" Options ")]),Object(o["f"])("div",p,[Object(o["h"])(" Amount"),Object(o["J"])(Object(o["f"])("input",{type:"number",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=e=>t.allocationAmount=e),onChange:e[8]||(e[8]=(...e)=>t.loadAllocation&&t.loadAllocation(...e)),placeholder:"Allocation Amount"},null,544),[[o["G"],t.allocationAmount]])]),Object(o["f"])("div",g,[Object(o["J"])(Object(o["f"])("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=e=>t.isShowAllocation=e),onChange:e[10]||(e[10]=(...e)=>t.loadAllocation&&t.loadAllocation(...e))},null,544),[[o["E"],t.isShowAllocation]]),Object(o["h"])(" Allocation ")]),y,C]),Object(o["f"])("div",S,[Object(o["i"])(zt,{ref:"pagination",data:t.search,"page-range":5,"on-change":t.load},null,8,["data","on-change"])])]),1==t.isShowAllocation?(Object(o["t"])(),Object(o["e"])("div",v,[0==t.isTransaction?(Object(o["t"])(),Object(o["e"])("table",x,[P,Object(o["f"])("tbody",null,[(Object(o["t"])(!0),Object(o["e"])(o["a"],null,Object(o["z"])(t.allocationList,(e,l)=>(Object(o["t"])(),Object(o["e"])("tr",{key:e},[Object(o["f"])("td",null,Object(o["C"])(e.Symbol),1),Object(o["f"])("td",w,Object(o["C"])(t.formatNumber(e.Total)),1),Object(o["f"])("td",k,Object(o["C"])(t.formatNumber(e.Price)),1),Object(o["f"])("td",A,Object(o["C"])(t.formatNumber(e.RequireShares)),1),Object(o["f"])("td",L,Object(o["C"])(t.formatNumber(e.CurrentShares)),1),Object(o["f"])("td",N,Object(o["C"])(t.formatNumber(e.Balance)),1),Object(o["f"])("td",T,Object(o["C"])(t.formatPercentage(e.Percentage)),1),Object(o["f"])("td",U,Object(o["C"])(t.formatNumber(e.Balance*e.Price)),1)]))),128))])])):Object(o["d"])("",!0)])):Object(o["d"])("",!0),0==t.isShowAllocation?(Object(o["t"])(),Object(o["e"])("div",z,[Object(o["f"])("div",D,[Object(o["f"])("table",R,[Object(o["f"])("tr",null,[Object(o["f"])("td",I,[Object(o["h"])("XIRR: "),Object(o["f"])("span",null,Object(o["C"])(t.formatNumber(t.xirr))+"%",1)]),Object(o["f"])("td",J,[Object(o["h"])("Investment: "),Object(o["f"])("span",null,Object(o["C"])(t.formatNumber(t.totalCapitalCall)),1)]),Object(o["f"])("td",E,[Object(o["h"])("Current Market Value: "),Object(o["f"])("span",null,Object(o["C"])(t.formatNumber(t.currentMarketValue)),1)]),Object(o["f"])("td",V,[Object(o["h"])("Profit & Loss: "),Object(o["f"])("span",null,Object(o["C"])(t.formatNumber(t.totalPL))+" ("+Object(o["C"])(t.formatPercentage(t.totalPLPercent))+")",1)])])])])])):Object(o["d"])("",!0),0==t.isShowAllocation?(Object(o["t"])(),Object(o["e"])("div",_,[Object(o["f"])("ul",B,[Object(o["f"])("li",G,[Object(o["f"])("a",{class:Object(o["o"])(["nav-link",{active:0==t.isTransaction}]),onClick:e[11]||(e[11]=e=>t.isTransaction=!1),"aria-current":"page",href:"#"},"Shares",2)]),Object(o["f"])("li",M,[Object(o["f"])("a",{class:Object(o["o"])(["nav-link",{active:1==t.isTransaction}]),href:"#",onClick:e[12]||(e[12]=e=>t.isTransaction=!0)},"Transactions",2)])]),F,0==t.isTransaction?(Object(o["t"])(),Object(o["e"])("div",H,[Object(o["f"])("table",X,[Object(o["f"])("tbody",null,[Object(o["f"])("tr",null,[(Object(o["t"])(!0),Object(o["e"])(o["a"],null,Object(o["z"])(t.indexList,(e,l)=>(Object(o["t"])(),Object(o["e"])("td",null,Object(o["C"])(e.Name)+": "+Object(o["C"])(t.formatPercentage(e.PLPercent)),1))),256))])])]),q,Object(o["f"])("div",$,[Object(o["J"])(Object(o["f"])("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[13]||(e[13]=e=>t.listSearch.sortName=e),onChange:e[14]||(e[14]=(...e)=>t.loadShares&&t.loadShares(...e))},Q,544),[[o["F"],t.listSearch.sortName]])]),W,Object(o["f"])("div",Y,[Object(o["J"])(Object(o["f"])("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[15]||(e[15]=e=>t.listSearch.sortOrder=e),onChange:e[16]||(e[16]=(...e)=>t.loadShares&&t.loadShares(...e))},et,544),[[o["F"],t.listSearch.sortOrder]])]),lt])):Object(o["d"])("",!0),0==t.isTransaction?(Object(o["t"])(),Object(o["e"])("table",ot,[at,Object(o["f"])("tbody",null,[(Object(o["t"])(!0),Object(o["e"])(o["a"],null,Object(o["z"])(t.shares,(e,l)=>(Object(o["t"])(),Object(o["e"])(o["a"],{key:e},[0==t.cBool(e.IsEdit)?(Object(o["t"])(),Object(o["e"])("tr",ct,[Object(o["f"])("td",null,Object(o["C"])(e.Symbol),1),Object(o["f"])("td",nt,Object(o["C"])(t.formatPercentage(e.PLPercent))+" ("+Object(o["C"])(t.formatNumber(e.PL))+")",1),Object(o["f"])("td",rt,Object(o["C"])(t.formatNumber(e.NumberOfShares)),1),Object(o["f"])("td",it,Object(o["C"])(t.formatNumber(e.LTCGShares)),1),Object(o["f"])("td",st,Object(o["C"])(t.formatNumber(e.SharePrice)),1),Object(o["f"])("td",bt,Object(o["C"])(t.formatNumber(e.CurrentPrice)),1),Object(o["f"])("td",Ot,Object(o["C"])(t.formatNumber(e.Amount)),1),Object(o["f"])("td",dt,Object(o["C"])(t.formatNumber(e.CurrentMarketValue)),1)])):Object(o["d"])("",!0)],64))),128))])])):Object(o["d"])("",!0),1==t.isTransaction?(Object(o["t"])(),Object(o["e"])("table",ut,[jt,Object(o["f"])("tbody",null,[(Object(o["t"])(!0),Object(o["e"])(o["a"],null,Object(o["z"])(t.rows,(e,l)=>(Object(o["t"])(),Object(o["e"])(o["a"],{key:e},[0==t.cBool(e.IsEdit)?(Object(o["t"])(),Object(o["e"])("tr",ft,[Object(o["f"])("td",{onClick:l=>t.editRow(e)},Object(o["C"])(e.Symbol),9,ht),Object(o["f"])("td",{onClick:l=>t.editRow(e)},Object(o["C"])(t.formatDate(e.RecordDate)),9,mt),Object(o["f"])("td",{onClick:l=>t.editRow(e),style:{"text-align":"right"}},Object(o["C"])(t.formatNumber(e.NumberOfShares)),9,pt),Object(o["f"])("td",{onClick:l=>t.editRow(e),style:{"text-align":"right"}},Object(o["C"])(t.formatNumber(e.SharePrice)),9,gt),Object(o["f"])("td",{onClick:l=>t.editRow(e)},["B"==e.LotType?(Object(o["t"])(),Object(o["e"])("span",Ct,"Buy")):Object(o["d"])("",!0),"S"==e.LotType?(Object(o["t"])(),Object(o["e"])("span",St,"Sell")):Object(o["d"])("",!0),"D"==e.LotType?(Object(o["t"])(),Object(o["e"])("span",vt,"Dividend")):Object(o["d"])("",!0),"P"==e.LotType?(Object(o["t"])(),Object(o["e"])("span",xt,"Price")):Object(o["d"])("",!0)],8,yt),Object(o["f"])("td",null,[Object(o["f"])("i",{class:"fa fa-remove",style:{cursor:"pointer"},onClick:o=>t.deleteRow(e,l)}," ",8,Pt)])])):Object(o["d"])("",!0),1==e.IsEdit&&"B"!=e.LotType&&"S"!=e.LotType?(Object(o["t"])(),Object(o["e"])("tr",wt,[Object(o["f"])("td",null,[Object(o["i"])(Ut,{placeholder:"Symbol",data:t.rowData,source:t.searchSymbol,root:e,field:"Symbol"},null,8,["data","source","root"])]),Object(o["f"])("td",null,[Object(o["i"])(tt,{field:"RecordDate",root:e},null,8,["root"])]),Object(o["f"])("td",kt,[Object(o["J"])(Object(o["f"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t=>e.NumberOfShares=t},null,8,At),[[o["G"],e.NumberOfShares]])]),Object(o["f"])("td",Lt,[Object(o["J"])(Object(o["f"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t=>e.SharePrice=t},null,8,Nt),[[o["G"],e.SharePrice]])]),Object(o["f"])("td",null,[Object(o["J"])(Object(o["f"])("select",{class:"form-select form-select-sm","onUpdate:modelValue":t=>e.LotType=t},Dt,8,Tt),[[o["F"],e.LotType]])]),Object(o["f"])("td",null,[Object(o["f"])("button",{type:"button",disabled:1==e.IsSaving,class:"btn btn-sm btn-success",onClick:l=>t.save(e)},"Save",8,Rt),Object(o["f"])("button",{type:"button",class:"btn btn-sm btn-danger",onClick:l=>t.cancelRow(e)},"Cancel",8,It)])])):Object(o["d"])("",!0)],64))),128))])])):Object(o["d"])("",!0)])):Object(o["d"])("",!0)])}l("14d9");var Et=l("0feb"),Vt={name:"List",data(){return{search:{pageIndex:1,pageSize:20,sortName:"lot.RecordDate desc,lot.dm_asset_core_lot_id desc",sortOrder:"",total:0,pageSizeOptions:[20,50,100,500],symbol:"",fromDate:"01/Jan/2020",toDate:"",isIgnore:!1,isOptions:!1,isGold:!1,tradeType:""},listSearch:{sortName:"PL",sortOrder:"asc"},isTransaction:!1,newjson:null,rows:[],shares:[],xirr:0,totalCapitalCall:0,totalDividendCall:0,totalInvestmentCall:0,totalOptionsCall:0,totalDebtCall:0,totalGold:0,totalPL:0,totalUnRealizedPL:0,totalPLPercent:0,totalUnRealizedPLPercent:0,currentMarketValue:0,allocationAmount:0,allocationList:[],isShowAllocation:!1,indexList:[]}},methods:{init:function(){var t=this;t.getNew((function(){t.load((function(){t.allocationAmount=t.totalInvestmentCall}))}))},getNew:function(t){var e=this;Et["a"].ajax({url:"api/Home/New",onUnAuthorized:function(){console.log("onUnAuthorized")},onSuccess:function(l){e.newjson=l,t&&t()},onError:function(t){console.log("error=",t)}})},load:function(t){var e=this,l=JSON.parse(JSON.stringify(e.search));l.pageSizeOptions=null,Et["a"].ajax({url:"api/Home/List",data:l,onUnAuthorized:function(){console.log("onUnAuthorized")},onSuccess:function(l){e.rows=l.rows,e.xirr=l.xirr,e.totalCapitalCall=l.TotalCapitalCall,e.totalDividendCall=l.TotalDividendCall,e.totalInvestmentCall=l.TotalInvestmentCall,e.totalOptionsCall=l.TotalOptionsCall,e.totalDebtCall=l.TotalDebtCall,e.totalGold=l.TotalGold,e.totalPL=l.TotalPL,e.totalUnRealizedPL=l.TotalUnRealizedPL,e.currentMarketValue=l.CurrentMarketValue,e.totalPLPercent=e.totalPL/e.totalCapitalCall*100,e.totalUnRealizedPLPercent=e.totalUnRealizedPL/e.totalCapitalCall*100,e.search.total=l.total,e.indexList=l.indexList,e.$refs.pagination.refresh(),e.loadShares();try{t&&t()}catch(o){console.log(o)}},onError:function(t){console.log("error=",t)}})},loadShares:function(){var t=this,e=JSON.parse(JSON.stringify(t.search));e.sortName=t.listSearch.sortName,e.sortOrder=t.listSearch.sortOrder,e.pageSizeOptions=null,e.isCurrent=!0,Et["a"].ajax({url:"api/Home/ListShare",data:e,onUnAuthorized:function(){console.log("onUnAuthorized")},onSuccess:function(e){t.shares=e},onError:function(t){console.log("error=",t)}})},loadAllocation:function(t){var e=this;Et["a"].ajax({url:"api/Home/AllocationList?totalAmount="+e.allocationAmount,onUnAuthorized:function(){console.log("onUnAuthorized")},onSuccess:function(l){e.allocationList=l,t&&t()},onError:function(t){console.log("error=",t)}})},addNew:function(){var t=this,e=JSON.parse(JSON.stringify(t.newjson));e.IsEdit=!0,t.rows.splice(0,0,e)},editRow:function(t){"B"!=t.LotType&&"S"!=t.LotType&&(t.cloneJSON=JSON.stringify(t),t.IsEdit=!0)},cancelRow:function(t){var e=t.cloneJSON;t=JSON.parse(e),t.IsEdit=!1},deleteRow:function(t,e){if(confirm("Are you sure?")){var l=this,o={id:t.dm_asset_core_lot_id};t.IsSaving=!0,Et["a"].ajax({url:"api/Home/Delete",method:"DELETE",data:o,onUnAuthorized:function(){console.log("onUnAuthorized")},onSuccess:function(){l.rows.splice(e,1)},onError:function(t){console.log("error=",t)},onFinally:function(){}})}},save:function(t){t.IsSaving=!0,Et["a"].ajax({url:"api/Home/Create",method:"POST",data:t,onUnAuthorized:function(){console.log("onUnAuthorized")},onSuccess:function(e){t.IsEdit=!1,t.dm_asset_core_lot_id=e.dm_asset_core_lot_id},onError:function(t){console.log("error=",t)},onFinally:function(){t.IsSaving=!1}})},searchSymbol:function(t){Et["a"].ajax({url:"api/Home/SearchSymbol?term="+t.term,onUnAuthorized:function(){},onSuccess:function(e){function l(t){var e=[];return t.forEach(t=>{e.push({id:t.id,text:t.label,source:t})}),{results:e}}t.callback(l(e))},onError:function(t){console.log("error=",t)}})},rowData:function(t){var e=[];return t&&""!=Et["a"].cString(t.Symbol)&&e.push({id:t.Symbol,text:t.Symbol,source:t}),e}},mounted(){let t=this;t.init()}},_t=l("6b0d"),Bt=l.n(_t);const Gt=Bt()(Vt,[["render",Jt]]);e["default"]=Gt}}]);
//# sourceMappingURL=chunk-2d0c7d01.d3cffafb.js.map