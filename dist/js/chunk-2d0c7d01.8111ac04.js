(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7d01"],{"51e4":function(t,e,o){"use strict";o.r(e);var l=o("7a23");const a={class:"row"},c={class:"col-8"},n={class:"float-start me-3",style:{width:"auto"}},r={class:"float-start me-3",style:{width:"120px"}},i=Object(l["f"])("div",{class:"float-start me-3 mt-2",style:{width:"auto"}}," To ",-1),s={class:"float-start me-3",style:{width:"120px"}},b={class:"float-start me-3",style:{width:"250px"}},d={class:"float-start mt-2",style:{width:"auto"}},O={class:"float-start mt-2",style:{width:"auto","margin-top":"4px","margin-left":"10px"}},u=Object(l["g"])('<option value="">Trade Type</option><option value="B">Buy</option><option value="S">Sell</option><option value="P">Price</option><option value="D">Dividend</option>',5),f=[u],j=Object(l["f"])("div",{class:"clearfix"}," ",-1),h=Object(l["f"])("br",null,null,-1),m={class:"float-start mt-2",style:{width:"auto",display:"none"}},p={class:"float-start mt-2",style:{width:"auto","margin-left":"25px"}},g={class:"float-start mt-2",style:{width:"auto","margin-left":"25px"}},y=Object(l["f"])("div",{class:"clearfix"}," ",-1),S=Object(l["f"])("br",null,null,-1),C={class:"col-4"},v={key:0,class:"row"},x={key:0,class:"table table-striped table-hover"},w=Object(l["f"])("thead",null,[Object(l["f"])("tr",null,[Object(l["f"])("th",null,"Symbol"),Object(l["f"])("th",{style:{"text-align":"right"}},"Total"),Object(l["f"])("th",{style:{"text-align":"right"}},"Price"),Object(l["f"])("th",{style:{"text-align":"right"}},"Require Shares"),Object(l["f"])("th",{style:{"text-align":"right"}},"Current Shares"),Object(l["f"])("th",{style:{"text-align":"right"}},"Balance Shares"),Object(l["f"])("th",{style:{"text-align":"right"}},"Percentage"),Object(l["f"])("th",{style:{"text-align":"right"}},"Balance Amount")])],-1),P={style:{"text-align":"right"}},k={style:{"text-align":"right"}},L={style:{"text-align":"right"}},A={style:{"text-align":"right"}},N={style:{"text-align":"right","font-weight":"bold"}},T={style:{"text-align":"right"}},U={style:{"text-align":"right"}},D={key:1,class:"row"},R={class:"col-12"},z={class:"table table-sm table-borderless"},I={style:{"white-space":"nowrap"}},J={style:{"white-space":"nowrap"}},E={style:{"white-space":"nowrap"}},V={style:{"white-space":"nowrap"}},_={key:2},B={class:"nav nav-pills"},G={class:"nav-item"},M={class:"nav-item"},F=Object(l["f"])("br",null,null,-1),H={key:0,style:{"margin-bottom":"10px"}},X=Object(l["f"])("div",{style:{float:"left","margin-right":"5px","margin-top":"5px"}},"Sort By:",-1),q={style:{float:"left","margin-right":"10px"}},$=Object(l["g"])('<option value="PL">Profit &amp; Loss</option><option value="PLPercent">Profit &amp; Loss %</option><option value="XIRR">XIRR</option><option value="NumberOfShares">Shares</option><option value="SharePrice">Avg.Price</option><option value="CurrentPrice">Current Price</option><option value="Amount">Amount</option><option value="CurrentMarketValue">CMV</option>',8),K=[$],Q=Object(l["f"])("div",{style:{float:"left","margin-right":"5px","margin-top":"5px"}},"Sort Order:",-1),W={style:{float:"left"}},Y=Object(l["f"])("option",{value:"asc"},"Asc",-1),Z=Object(l["f"])("option",{value:"desc"},"desc",-1),tt=[Y,Z],et=Object(l["f"])("div",{class:"clearfix"},null,-1),ot={key:1,class:"table table-striped table-hover"},lt=Object(l["f"])("thead",null,[Object(l["f"])("tr",null,[Object(l["f"])("th",null,"Symbol"),Object(l["f"])("th",{style:{"text-align":"right"}},"Invested"),Object(l["f"])("th",{style:{"text-align":"right"}},"CMV"),Object(l["f"])("th",{style:{"text-align":"right"}},"PL"),Object(l["f"])("th",{style:{"text-align":"right"}},"PL%"),Object(l["f"])("th",{style:{"text-align":"right"}},"Shares"),Object(l["f"])("th",{style:{"text-align":"right"}},"LTCG Shares"),Object(l["f"])("th",{style:{"text-align":"right"}},"Avg.Price"),Object(l["f"])("th",{style:{"text-align":"right"}},"Current Price")])],-1),at={key:0},ct={style:{"text-align":"right"}},nt={style:{"text-align":"right"}},rt={style:{"text-align":"right"}},it={style:{"text-align":"right"}},st={style:{"text-align":"right"}},bt={style:{"text-align":"right"}},dt={style:{"text-align":"right"}},Ot={style:{"text-align":"right"}},ut={key:2,class:"table table-striped table-hover"},ft=Object(l["f"])("thead",null,[Object(l["f"])("tr",null,[Object(l["f"])("th",null,"Symbol"),Object(l["f"])("th",null,"Date"),Object(l["f"])("th",{style:{"text-align":"right"}},"Shares"),Object(l["f"])("th",{style:{"text-align":"right"}},"Price"),Object(l["f"])("th",null,"Type"),Object(l["f"])("th",null," ")])],-1),jt={key:0},ht=["onClick"],mt=["onClick"],pt=["onClick"],gt=["onClick"],yt=["onClick"],St={key:0},Ct={key:1},vt={key:2},xt={key:3},wt=["onClick"],Pt={key:1},kt={style:{"text-align":"right"}},Lt=["onUpdate:modelValue"],At={style:{"text-align":"right"}},Nt=["onUpdate:modelValue"],Tt=["onUpdate:modelValue"],Ut=Object(l["f"])("option",{value:"P"},"Price",-1),Dt=Object(l["f"])("option",{value:"D"},"Dividend",-1),Rt=[Ut,Dt],zt=["disabled","onClick"],It=["onClick"];function Jt(t,e,o,u,$,Y){const Z=Object(l["A"])("datepicker"),Ut=Object(l["A"])("select2"),Dt=Object(l["A"])("pagination");return Object(l["t"])(),Object(l["e"])("div",null,[Object(l["f"])("div",a,[Object(l["f"])("div",c,[Object(l["f"])("div",n,[Object(l["f"])("button",{type:"button",class:"btn btn-success",onClick:e[0]||(e[0]=e=>t.addNew())},"Add")]),Object(l["f"])("div",r,[Object(l["i"])(Z,{placeholder:"FromDate",field:"fromDate",root:t.search},null,8,["root"])]),i,Object(l["f"])("div",s,[Object(l["i"])(Z,{placeholder:"ToDate",field:"toDate",root:t.search},null,8,["root"])]),Object(l["f"])("div",b,[Object(l["i"])(Ut,{placeholder:"Search",source:t.searchSymbol,change:t.load,root:t.search,field:"symbol"},null,8,["source","change","root"])]),Object(l["f"])("div",d,[Object(l["J"])(Object(l["f"])("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=e=>t.search.isIgnore=e),onChange:e[2]||(e[2]=(...e)=>t.load&&t.load(...e))},null,544),[[l["E"],t.search.isIgnore]]),Object(l["h"])(" Except ")]),Object(l["f"])("div",O,[Object(l["J"])(Object(l["f"])("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[3]||(e[3]=e=>t.search.tradeType=e),onChange:e[4]||(e[4]=(...e)=>t.load&&t.load(...e))},f,544),[[l["F"],t.search.tradeType]])]),j,h,Object(l["f"])("div",m,[Object(l["J"])(Object(l["f"])("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=e=>t.search.isOptions=e),onChange:e[6]||(e[6]=(...e)=>t.load&&t.load(...e))},null,544),[[l["E"],t.search.isOptions]]),Object(l["h"])(" Options ")]),Object(l["f"])("div",p,[Object(l["h"])(" Amount"),Object(l["J"])(Object(l["f"])("input",{type:"number",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=e=>t.allocationAmount=e),onChange:e[8]||(e[8]=(...e)=>t.loadAllocation&&t.loadAllocation(...e)),placeholder:"Allocation Amount"},null,544),[[l["G"],t.allocationAmount]])]),Object(l["f"])("div",g,[Object(l["J"])(Object(l["f"])("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=e=>t.isShowAllocation=e),onChange:e[10]||(e[10]=e=>{t.isTransaction=!1,t.loadAllocation()})},null,544),[[l["E"],t.isShowAllocation]]),Object(l["h"])(" Allocation ")]),y,S]),Object(l["f"])("div",C,[Object(l["i"])(Dt,{ref:"pagination",data:t.search,"page-range":5,"on-change":t.load},null,8,["data","on-change"])])]),1==t.isShowAllocation?(Object(l["t"])(),Object(l["e"])("div",v,[0==t.isTransaction?(Object(l["t"])(),Object(l["e"])("table",x,[w,Object(l["f"])("tbody",null,[(Object(l["t"])(!0),Object(l["e"])(l["a"],null,Object(l["z"])(t.allocationList,(e,o)=>(Object(l["t"])(),Object(l["e"])("tr",{key:e},[Object(l["f"])("td",null,Object(l["C"])(e.Symbol),1),Object(l["f"])("td",P,Object(l["C"])(t.formatNumber(e.Total)),1),Object(l["f"])("td",k,Object(l["C"])(t.formatNumber(e.Price)),1),Object(l["f"])("td",L,Object(l["C"])(t.formatNumber(e.RequireShares)),1),Object(l["f"])("td",A,Object(l["C"])(t.formatNumber(e.CurrentShares)),1),Object(l["f"])("td",N,Object(l["C"])(t.formatNumber(e.Balance)),1),Object(l["f"])("td",T,Object(l["C"])(t.formatPercentage(e.Percentage)),1),Object(l["f"])("td",U,Object(l["C"])(t.formatNumber(e.Balance*e.Price)),1)]))),128))])])):Object(l["d"])("",!0)])):Object(l["d"])("",!0),0==t.isShowAllocation?(Object(l["t"])(),Object(l["e"])("div",D,[Object(l["f"])("div",R,[Object(l["f"])("table",z,[Object(l["f"])("tr",null,[Object(l["f"])("td",I,[Object(l["h"])("XIRR: "),Object(l["f"])("span",null,Object(l["C"])(t.formatNumber(t.xirr))+"%",1)]),Object(l["f"])("td",J,[Object(l["h"])("Investment: "),Object(l["f"])("span",null,Object(l["C"])(t.formatNumber(t.totalCapitalCall)),1)]),Object(l["f"])("td",E,[Object(l["h"])("Current Market Value: "),Object(l["f"])("span",null,Object(l["C"])(t.formatNumber(t.currentMarketValue)),1)]),Object(l["f"])("td",V,[Object(l["h"])("Profit & Loss: "),Object(l["f"])("span",null,Object(l["C"])(t.formatNumber(t.totalPL))+" ("+Object(l["C"])(t.formatPercentage(t.totalPLPercent))+")",1)])])])])])):Object(l["d"])("",!0),0==t.isShowAllocation?(Object(l["t"])(),Object(l["e"])("div",_,[Object(l["f"])("ul",B,[Object(l["f"])("li",G,[Object(l["f"])("a",{class:Object(l["o"])(["nav-link",{active:0==t.isTransaction}]),onClick:e[11]||(e[11]=e=>t.isTransaction=!1),"aria-current":"page",href:"#"},"Shares",2)]),Object(l["f"])("li",M,[Object(l["f"])("a",{class:Object(l["o"])(["nav-link",{active:1==t.isTransaction}]),href:"#",onClick:e[12]||(e[12]=e=>t.isTransaction=!0)},"Transactions",2)])]),F,0==t.isTransaction?(Object(l["t"])(),Object(l["e"])("div",H,[X,Object(l["f"])("div",q,[Object(l["J"])(Object(l["f"])("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[13]||(e[13]=e=>t.listSearch.sortName=e),onChange:e[14]||(e[14]=(...e)=>t.loadShares&&t.loadShares(...e))},K,544),[[l["F"],t.listSearch.sortName]])]),Q,Object(l["f"])("div",W,[Object(l["J"])(Object(l["f"])("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[15]||(e[15]=e=>t.listSearch.sortOrder=e),onChange:e[16]||(e[16]=(...e)=>t.loadShares&&t.loadShares(...e))},tt,544),[[l["F"],t.listSearch.sortOrder]])]),et])):Object(l["d"])("",!0),0==t.isTransaction?(Object(l["t"])(),Object(l["e"])("table",ot,[lt,Object(l["f"])("tbody",null,[(Object(l["t"])(!0),Object(l["e"])(l["a"],null,Object(l["z"])(t.shares,(e,o)=>(Object(l["t"])(),Object(l["e"])(l["a"],{key:e},[0==t.cBool(e.IsEdit)?(Object(l["t"])(),Object(l["e"])("tr",at,[Object(l["f"])("td",null,Object(l["C"])(e.Symbol),1),Object(l["f"])("td",ct,Object(l["C"])(t.formatNumber(e.Amount)),1),Object(l["f"])("td",nt,Object(l["C"])(t.formatNumber(e.CurrentMarketValue)),1),Object(l["f"])("td",rt,Object(l["C"])(t.formatNumber(e.PL)),1),Object(l["f"])("td",it,Object(l["C"])(t.formatPercentage(e.PLPercent)),1),Object(l["f"])("td",st,Object(l["C"])(t.formatNumber(e.NumberOfShares)),1),Object(l["f"])("td",bt,Object(l["C"])(t.formatNumber(e.LTCGShares)),1),Object(l["f"])("td",dt,Object(l["C"])(t.formatNumber(e.SharePrice)),1),Object(l["f"])("td",Ot,Object(l["C"])(t.formatNumber(e.CurrentPrice)),1)])):Object(l["d"])("",!0)],64))),128))])])):Object(l["d"])("",!0),1==t.isTransaction?(Object(l["t"])(),Object(l["e"])("table",ut,[ft,Object(l["f"])("tbody",null,[(Object(l["t"])(!0),Object(l["e"])(l["a"],null,Object(l["z"])(t.rows,(e,o)=>(Object(l["t"])(),Object(l["e"])(l["a"],{key:e},[0==t.cBool(e.IsEdit)?(Object(l["t"])(),Object(l["e"])("tr",jt,[Object(l["f"])("td",{onClick:o=>t.editRow(e)},Object(l["C"])(e.Symbol),9,ht),Object(l["f"])("td",{onClick:o=>t.editRow(e)},Object(l["C"])(t.formatDate(e.RecordDate)),9,mt),Object(l["f"])("td",{onClick:o=>t.editRow(e),style:{"text-align":"right"}},Object(l["C"])(t.formatNumber(e.NumberOfShares)),9,pt),Object(l["f"])("td",{onClick:o=>t.editRow(e),style:{"text-align":"right"}},Object(l["C"])(t.formatNumber(e.SharePrice)),9,gt),Object(l["f"])("td",{onClick:o=>t.editRow(e)},["B"==e.LotType?(Object(l["t"])(),Object(l["e"])("span",St,"Buy")):Object(l["d"])("",!0),"S"==e.LotType?(Object(l["t"])(),Object(l["e"])("span",Ct,"Sell")):Object(l["d"])("",!0),"D"==e.LotType?(Object(l["t"])(),Object(l["e"])("span",vt,"Dividend")):Object(l["d"])("",!0),"P"==e.LotType?(Object(l["t"])(),Object(l["e"])("span",xt,"Price")):Object(l["d"])("",!0)],8,yt),Object(l["f"])("td",null,[Object(l["f"])("i",{class:"fa fa-remove",style:{cursor:"pointer"},onClick:l=>t.deleteRow(e,o)}," ",8,wt)])])):Object(l["d"])("",!0),1==e.IsEdit&&"B"!=e.LotType&&"S"!=e.LotType?(Object(l["t"])(),Object(l["e"])("tr",Pt,[Object(l["f"])("td",null,[Object(l["i"])(Ut,{placeholder:"Symbol",data:t.rowData,source:t.searchSymbol,root:e,field:"Symbol"},null,8,["data","source","root"])]),Object(l["f"])("td",null,[Object(l["i"])(Z,{field:"RecordDate",root:e},null,8,["root"])]),Object(l["f"])("td",kt,[Object(l["J"])(Object(l["f"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t=>e.NumberOfShares=t},null,8,Lt),[[l["G"],e.NumberOfShares]])]),Object(l["f"])("td",At,[Object(l["J"])(Object(l["f"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t=>e.SharePrice=t},null,8,Nt),[[l["G"],e.SharePrice]])]),Object(l["f"])("td",null,[Object(l["J"])(Object(l["f"])("select",{class:"form-select form-select-sm","onUpdate:modelValue":t=>e.LotType=t},Rt,8,Tt),[[l["F"],e.LotType]])]),Object(l["f"])("td",null,[Object(l["f"])("button",{type:"button",disabled:1==e.IsSaving,class:"btn btn-sm btn-success",onClick:o=>t.save(e)},"Save",8,zt),Object(l["f"])("button",{type:"button",class:"btn btn-sm btn-danger",onClick:o=>t.cancelRow(e)},"Cancel",8,It)])])):Object(l["d"])("",!0)],64))),128))])])):Object(l["d"])("",!0)])):Object(l["d"])("",!0)])}o("14d9");var Et=o("0feb"),Vt={name:"List",data(){return{search:{pageIndex:1,pageSize:20,sortName:"lot.RecordDate desc,lot.dm_asset_core_lot_id desc",sortOrder:"",total:0,pageSizeOptions:[20,50,100,500],symbol:"",fromDate:"01/Jan/2020",toDate:"",isIgnore:!1,isOptions:!1,isGold:!1,tradeType:""},listSearch:{sortName:"PL",sortOrder:"asc"},isTransaction:!1,newjson:null,rows:[],shares:[],xirr:0,totalCapitalCall:0,totalDividendCall:0,totalInvestmentCall:0,totalStrategyCall:0,totalOptionsCall:0,totalDebtCall:0,totalGold:0,totalPL:0,totalUnRealizedPL:0,totalPLPercent:0,totalUnRealizedPLPercent:0,currentMarketValue:0,allocationAmount:0,allocationList:[],isShowAllocation:!1,indexList:[]}},methods:{init:function(){var t=this;t.getNew((function(){t.load((function(){t.allocationAmount=0}))}))},getNew:function(t){var e=this;Et["a"].ajax({url:"api/Home/New",onUnAuthorized:function(){console.log("onUnAuthorized")},onSuccess:function(o){e.newjson=o,t&&t()},onError:function(t){console.log("error=",t)}})},load:function(t){var e=this,o=JSON.parse(JSON.stringify(e.search));o.pageSizeOptions=null,Et["a"].ajax({url:"api/Home/List",data:o,onUnAuthorized:function(){console.log("onUnAuthorized")},onSuccess:function(o){e.rows=o.rows,e.xirr=o.xirr,e.totalCapitalCall=o.TotalCapitalCall,e.totalDividendCall=o.TotalDividendCall,e.totalInvestmentCall=o.TotalInvestmentCall,e.totalStrategyCall=o.TotalStrategyCall,e.totalOptionsCall=o.TotalOptionsCall,e.totalDebtCall=o.TotalDebtCall,e.totalGold=o.TotalGold,e.totalPL=o.TotalPL,e.totalUnRealizedPL=o.TotalUnRealizedPL,e.currentMarketValue=o.CurrentMarketValue,e.totalPLPercent=e.totalPL/e.totalCapitalCall*100,e.totalUnRealizedPLPercent=e.totalUnRealizedPL/e.totalCapitalCall*100,e.search.total=o.total,e.indexList=o.indexList,e.$refs.pagination.refresh(),e.loadShares();try{t&&t()}catch(l){console.log(l)}},onError:function(t){console.log("error=",t)}})},loadShares:function(){var t=this,e=JSON.parse(JSON.stringify(t.search));e.sortName=t.listSearch.sortName,e.sortOrder=t.listSearch.sortOrder,e.pageSizeOptions=null,e.isCurrent=!0,Et["a"].ajax({url:"api/Home/ListShare",data:e,onUnAuthorized:function(){console.log("onUnAuthorized")},onSuccess:function(e){t.shares=e},onError:function(t){console.log("error=",t)}})},loadAllocation:function(t){var e=this;Et["a"].ajax({url:"api/Home/AllocationList?totalAmount="+e.allocationAmount,onUnAuthorized:function(){console.log("onUnAuthorized")},onSuccess:function(o){e.allocationList=o,t&&t()},onError:function(t){console.log("error=",t)}})},addNew:function(){var t=this,e=JSON.parse(JSON.stringify(t.newjson));e.IsEdit=!0,t.rows.splice(0,0,e)},editRow:function(t){"B"!=t.LotType&&"S"!=t.LotType&&(t.cloneJSON=JSON.stringify(t),t.IsEdit=!0)},cancelRow:function(t){var e=t.cloneJSON;t=JSON.parse(e),t.IsEdit=!1},deleteRow:function(t,e){if(confirm("Are you sure?")){var o=this,l={id:t.dm_asset_core_lot_id};t.IsSaving=!0,Et["a"].ajax({url:"api/Home/Delete",method:"DELETE",data:l,onUnAuthorized:function(){console.log("onUnAuthorized")},onSuccess:function(){o.rows.splice(e,1)},onError:function(t){console.log("error=",t)},onFinally:function(){}})}},save:function(t){t.IsSaving=!0,Et["a"].ajax({url:"api/Home/Create",method:"POST",data:t,onUnAuthorized:function(){console.log("onUnAuthorized")},onSuccess:function(e){t.IsEdit=!1,t.dm_asset_core_lot_id=e.dm_asset_core_lot_id},onError:function(t){console.log("error=",t)},onFinally:function(){t.IsSaving=!1}})},searchSymbol:function(t){Et["a"].ajax({url:"api/Home/SearchSymbol?term="+t.term,onUnAuthorized:function(){},onSuccess:function(e){function o(t){var e=[];return t.forEach(t=>{e.push({id:t.id,text:t.label,source:t})}),{results:e}}t.callback(o(e))},onError:function(t){console.log("error=",t)}})},rowData:function(t){var e=[];return t&&""!=Et["a"].cString(t.Symbol)&&e.push({id:t.Symbol,text:t.Symbol,source:t}),e}},mounted(){let t=this;t.init()}},_t=o("6b0d"),Bt=o.n(_t);const Gt=Bt()(Vt,[["render",Jt]]);e["default"]=Gt}}]);
//# sourceMappingURL=chunk-2d0c7d01.8111ac04.js.map